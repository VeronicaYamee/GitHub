# **4. MPU 6050**
The MPU-6050 is a sensor which contains an accelerometer and a gyroscope in a single chip and uses a standard I2C-bus for data transmission. It is very accurate as it contains 16-bits analog to digital conversion hardware for each channel. It captures the x, y and z channel at the same time.

**4.1 How to conect and use the sensor**

* Follow the layout in Fig. x and connect the sensor with the mote.

![Test Image](https://raw.githubusercontent.com/VeronicaYamee/GitHub/master/images/layout.jpg)

* Connect the sensor with the computer (see section 4.2).
* Go to the directory home/user/snowfort/snowfort_example in your terminal.
* Open the file "sensorNoComm.c"(change the name) and change the line 23 to: 

		# define SAMPLING_FREQ 2
* Save the change.
* Compile and load "sensorNoComm.c"(change the file name) into your mote (see section 4.3).
* Log into your mote (see section 4.4).
* You should see the output messages like the Figure below: 

![Test Image](https://raw.githubusercontent.com/VeronicaYamee/GitHub/master/images/outputmpu6050.png)

**4.2 Connect with the computer**

* To connect the sensor with the computer, plug the USB cable to the mote and the computer like the figure below: 

![Test Image](https://raw.githubusercontent.com/VeronicaYamee/GitHub/master/images/20150720_033713%20(2).jpg)

**4.3 Compile**

* To compile a file and upload this file to the mote, we can type:

		sudo ./build.sh make <file name> <sensor id>

File name is the source file that you want to compile. You should NOT include its attributes. For example, to compile ABC.c, the file name is "ABC", NOT "ABC.c". The sensor id has to be larger than 0.

**4.4 Login**

* To log into the mote, we can type:

		sudo ./build.sh login

**4.5 How to interpret data** 

* Accelerometer

The datasheet indicates 4 different sensitivities. Each sensitivity has a correspondent scale factor as shown below:
  
| Acceleration Limit | Sensitivity |
|:------------------:|:-----------:|
|         ±2g        |    16,384   |
|         ±4g        |    8,192    |
|         ±8g        |    4,096    |
|        ±16g        |    2,048    |

So, for example, if you use a sensitivity of 2g, you have to multiply the output by 1g/16384 to get the real acceleration reading. 		

* Gyroscope

Again, the datasheet shows 4 different sensitivities with their respectives scale factors as follows:

| Acceleration Limit | Sensitivity |
|:------------------:|:-----------:|
|     ±250°/sec      |     131     |
|     ±500°/sec      |     65.5    |
|     ±1000°/sec     |     32.8    |
|     ±2000°/sec     |     16.4    |







